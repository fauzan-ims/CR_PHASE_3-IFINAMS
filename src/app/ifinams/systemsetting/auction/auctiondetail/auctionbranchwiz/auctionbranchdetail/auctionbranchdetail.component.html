<div class="main-content margin-wizard-content" style="margin-top: 20px;">
  <!-- spinner region -->
  <div class="panel-container-spinner" *ngIf="showSpinner">
    <app-spinner class="spinner-container"></app-spinner>
  </div>
  <!-- end spinner region -->
  <div class="row">
    <div class="col-md-12">
      <!--#region form-->
      <form #insurancecompanybranchForm="ngForm"
        (ngSubmit)="onFormSubmit(insurancecompanybranchForm.value, insurancecompanybranchForm.valid)">

        <!--#region insurancecompanybranchDetail button submit dan back-->
        <button type="submit" ng-disabled="insurancecompanybranchForm.$invalid" class="btn btn-info btn-round"
          data-role="R00023800000002C">Save</button>
        <button type="button" class="btn btn-danger btn-round" (click)="btnBack()">Back</button>
        <!--#endregion insurancecompanybranchDetail button submit dan back-->

        <!--#region insurancecompanybranchDetail row-->
        <div class="row">
          <!--#region id-->
          <input hidden type="text" [ngModel]="this.params" name="p_id">
          <!--#endregion id-->

          <!--#region auction Code-->
          <input type="text" [ngModel]="this.param" maxlength="50" name="p_auction_code" hidden>
          <!--#endregion auction Code-->

          <!--#region insurance Code-->
          <div class="col-md-4">
            <div class="form-group">
              <label for="insurance_code" class="control-label">Insurance Code *</label>
              <input type="text" class="form-control" [ngModel]="model.insurance_code" name="p_insurance_code"
                [readonly]="isReadOnly" required #insurance_code="ngModel">
              <small
                *ngIf="(insurance_code.errors?.required && insurance_code.touched) || (insurance_code.errors?.required && insurancecompanybranchForm.submitted)"
                class="text-danger">
                Insurance Code is required
              </small>
            </div>
          </div>
          <!--#endregion insurance Code-->

          <!--#region insurancecompanybranchDetail Branch Code-->
          <div class="col-md-4">
            <div class="form-group">
              <label>Branch Code</label>
              <div class="col-md-12 buttons">
                <span>
                  <button class="btn btn-icon btn-outline-default btn-round btn-md btn-lookup-margin" type="button"
                    (click)="btnLookupBranch()" data-toggle="modal" data-target="#lookupModalBranch" href="#"><i
                      class="fa fa-search-plus"></i></button>
                  {{model.branch_name}}
                  <input type="hidden" class="form-control" [ngModel]="model.branch_code" name="p_branch_code">
                  <input type="hidden" class="form-control" [ngModel]="model.branch_name" name="p_branch_name">
                </span>
              </div>
            </div>
          </div>
          <!--#endregion insurancecompanybranchDetail Branch Code-->
        </div>
        <!--#endregion row-->
      </form>
      <!--#endregion form-->
    </div>
  </div>
</div>

<!--#region lookup Branch-->
<div class="modal" id="lookupModalBranch" style="margin-top: -75px">
  <div class="modal-dialog" style="max-width: fit-content;">
    <div class="modal-content" style="width: 100%">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body" style="overflow:hidden;">
        <form>
          <div class="col-md-12">
            <div class="card-body col-md-12" style="width: 100%">
              <table id="datatableLookupBranch" class="table table-striped table-bordered hover" cellspacing="0"
                width="100%">
                <thead>
                  <tr>
                    <th style="display: none;"></th>
                    <th>Code</th>
                    <th>Name</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let row of lookupbranch">
                    <td style="display: none;"></td>
                    <td style="text-align: center; width: 20%;">{{ row.code }}</td>
                    <td style="text-align: center; width: 50%;">{{ row.name }}</td>
                    <td class="text-right">
                      <button class="btn btn-outline-default btn-round"
                        (click)="btnSelectRowBranch(row.code, row.name)">Select</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!--#endregion lookup Branch-->