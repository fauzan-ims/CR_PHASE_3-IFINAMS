<router-outlet></router-outlet>
<div id="hideMainPanel" class="main-content">
  <!-- spinner region -->
  <div class="panel-container-spinner" *ngIf="showSpinner">
    <app-spinner class="spinner-container"></app-spinner>
  </div>
  <!-- end spinner region -->
  <div class="row">
    <div class="col-md-12 col-sm-12">
      <div class="card">
        <!--#region watermark-->
        <div class="watermark" [hidden]="this.isWatermark === '0'">
          <h6>{{this.companyName}}</h6>
          <h6>{{this.userName}}</h6>
          <h6>{{this.sysDate | date}} {{this.currentTime}}</h6>
        </div>
        <!--#endregion watermark-->
        <div class="card-header">
          <h5 class="card-title">SPAF Asset List</h5>
        </div>
        <div class="card-body">

          <!--#region button Procced-->
          <div class="toolbar">
            <button hidden class="btn btn-success btn-round" data-role="R00023980000002O">
              Proceed
            </button>
            <button [hidden]="this.tampStatus !== 'VALID'" type="button" class="btn btn-info btn-round"
              data-role="R00023980000003C" (click)="btnSaveList()">Save</button>
          </div>
          <!--#endregion button Procced-->

          <!--#region Status-->
          <div class="col-md-4">
            <div class="form-group">
              <label>Status</label>
              <select class='form-control col-md-6' [ngModel]="this.tampStatus" (change)="PageStatus($event)">
                <option value='ALL'>ALL</option>
                <option value='HOLD'>HOLD</option>
                <option value='VALID'>VALID</option>
                <option value='INVALID'>INVALID</option>
                <option value='PAID'>PAID</option>
              </select>
            </div>
          </div>
          <!--#endregion rounding Status-->

          <!--#region list view -->
          <table id="datatablespafassetlist" datatable [dtOptions]="dtOptions"
            class="table table-striped table-bordered row-border hover" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th class="disabled-sorting">No</th>
                <th style="display: none;"></th>
                <th>Code / Type</th>
                <th>SPAF / Subvention Receipt No</th>
                <th>Receipt Date</th>
                <th>Asset / Unit Price</th>
                <th>Engine/Chassis/Plat No</th>
                <th>SPAF / PPN / PPH / Nett</th>
                <th>Subvention / PPN / PPH / Nett</th>
                <th>Validation Date / Status</th>
                <th>Validation Remark</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of listspafasset; let i=index">
                <td style="text-align: center;">{{listspafasset.numberIndex+i+1}}</td>
                <th style="display: none;"></th>
                <td style="width: 10%;text-align: left;">{{row.code}} <br> {{row.claim_type}}</td>
                <td style="text-align: right; width: 15%;">
                  <div class="form-group">
                    <input type="hidden" value="{{row.code}}" name="p_code">
                    <input type="hidden" value="{{row.id}}" name="p_id">
                    <input class="form-control"
                      [disabled]="row.validation_status != 'VALID' || row.spaf_amount == 0 || row.id != 0"
                      id="spafreceiptno{{i}}" (change)="spafreceiptno($event, row.code)" class="text-left" type="text"
                      value="{{row.spaf_receipt_no}}" name="p_spaf_receipt_no">
                    <br>
                    <input class="form-control"
                      [disabled]="row.validation_status != 'VALID' || row.subvention_amount == 0 || row.id != 0"
                      id="subventionreceiptno{{i}}" (change)="subventionreceiptno($event, row.code)" class="text-left"
                      type="text" value="{{row.subvention_receipt_no}}" name="p_susbvention_receipt_no">
                  </div>
                </td>
                <td style="width: 25%;">
                  <div class="col-md-12">
                    <input class="form-control" [readonly]="row.validation_status != 'VALID' || row.id != 0"
                      placeholder="dd/mm/yyyy" angular-mydatepicker value="{{row.receipt_date}}" name="p_receipt_date"
                      [options]="myDatePickerOptions" (click)="p_receipt_date.toggleCalendar()"
                      #p_receipt_date="angular-mydatepicker" autocomplete="off"
                      [ngStyle]="getStyles(row.validation_status != 'VALID')" />
                  </div>
                </td>
                <td style="width: 15%;text-align: left;">{{row.fa_code}} <br> {{row.item_name}} <br> {{row.purchase_price | number : '1.2-2'}}</td>
                <td style="width: 10%;text-align: left;">{{row.engine_no}} <br> {{row.chassis_no}} <br> {{row.plat_no}}
                </td>
                <td style="width: 10%;text-align: right;">{{row.spaf_amount | number : '1.2-2'}} <br> {{row.ppn | number : '1.2-2'}} <br> {{row.pph | number : '1.2-2'}} <br> {{row.net | number : '1.2-2'}}</td>
                <td style="width: 10%;text-align: right;" class="if-no-edit-btn">
                  {{row.subvention_amount | number : '1.2-2'}} <br> {{row.ppn_sub | number : '1.2-2'}} <br> {{row.pph_sub | number : '1.2-2'}} <br> {{row.nett | number : '1.2-2'}}
                </td>
                <td style="width: 10%;text-align: center;">{{row.validation_date}} <br> {{row.validation_status}}</td>
                <td style="width: 10%;text-align: left;">{{row.validation_remark}}</td>
                <!-- <td style="width: 10%;text-align: center;" class="if-no-edit-btn">{{row.validation_status}}</td> -->
              </tr>
            </tbody>
          </table>
          <!--#endregion list view-->
        </div>
      </div>
    </div>
  </div>
</div>